
# Application Gateway + C# Lambda + DynamoDb
<!--BEGIN STABILITY BANNER-->
---

![Stability: Stable](https://img.shields.io/badge/stability-Stable-success.svg?style=for-the-badge)

> **This is a stable example. It should successfully build out of the box**
>
> This examples es is built on Construct Libraries marked "Stable" and does not have any infrastructure prerequisites to build.

---
<!--END STABILITY BANNER-->

This example creates an AWS Application Gateway, AWS Lambda written in C# and an AWS DynamoDb datastore for CRUD operations.

This example contains C# Lambdas that represent CRUD actions typical of a REST api.
Create - POST - Create a blog record in DynamoDb
GetAll - GET - Gets all blogs from DynamoDb
GetOne - GET - Gets a single blog by Id from DynamoDb
Update - PATCH - Updates an existing blog by Id from DynamoDb
Delete - DELETE - Deletes an existing blog by Id from DynamoDb

## Build

To build this app, you need to be in this example's root folder. Then run the following:

```bash
npm install -g aws-cdk
dotnet publish
```

## Test

To test this app, you need to be in this example's root folder. Then run the following:

```bash
dotnet test
```

## Deploy

First publish the .Net application then run `cdk deploy`. This will deploy / redeploy your Stack to your AWS Account.

```bash
dotnet publish
cd infra
cdk deploy
```

After the deployment you will see the API's URL, which represents the url you can then use.

## Synthesize Cloudformation Template

To see the Cloudformation template generated by the CDK, run `cdk synth`, then check the output file in the "cdk.out" directory.

## Cleanup

You can remove all resources from this example by running `cdk destroy` in the infra folder.

## Useful commands
* `dotnet build`    builds the C# applications
* `dotnet test`     tests the C# unit tests
* `dotnet publish`  publishes and packages the C# applications for deployment
* `cdk deploy`      deploy this stack to your default AWS account/region
* `cdk diff`        compare deployed stack with current state
* `cdk synth`       emits the synthesized CloudFormation template
