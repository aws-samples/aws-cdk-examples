# DynamoDB Table with Auto Scaling and Global Secondary Index

## <!--BEGIN STABILITY BANNER-->

![Stability: Stable](https://img.shields.io/badge/stability-Stable-success.svg?style=for-the-badge)

> **This is a stable example. It should successfully build out of the box**
>
> This examples is built on Construct Libraries marked "Stable" and does not have any infrastructure prerequisites to build.

---

<!--END STABILITY BANNER-->

- Stack Details
  This stack creates a DynamoDB table named MyTable with a partition key (pk) and sort key (sk). It also creates a global secondary index (GSI1) with a partition key (gsi1pk) and sort key (gsi1sk). The table is configured with PAY_PER_REQUEST billing mode and NEW_AND_OLD_IMAGES stream view type.

Auto scaling is enabled for both read and write capacity, with minimum capacity set to 1 and maximum capacity set to 5.

After deploying the stack, the name of the DynamoDB table is outputted to the console.

- Clean Up
  To delete the stack and all associated resources, run `cdk destroy`. This will delete the DynamoDB table, the global secondary index, and all auto scaling policies. Note that this action cannot be undone.

## Build

To build this app, you need to be in this example's root folder. Then run the following:

```bash
npm install -g aws-cdk
npm install
npm run build
```

This will install the necessary CDK, then this example's dependencies, and then build your TypeScript files and your CloudFormation template.

## Deploy

Run `cdk deploy`. This will deploy / redeploy your Stack to your AWS Account.

After deploying, visit the AWS Management Console and go to the DynamoDB service. You should see the table created by this stack.

## Synthesize Cloudformation Template

To see the Cloudformation template generated by the CDK, run `cdk synth`, then check the output file in the "cdk.out" directory.
